@page "/departureplans"
@using Syncfusion.Blazor.Schedule
@using ScanApp.Models.HesHub.DeparturePlans;
@using Syncfusion.Blazor.Data

<SfSchedule @ref="SchedulerRef" TValue="DeparturePlanGuiModel" ShowTimeIndicator="true" Width="100%" Height="650px" @bind-SelectedDate="_now" AllowKeyboardInteraction="true">
    <ScheduleGroup EnableCompactView="false" AllowGroupEdit="true" Resources="@_resources"></ScheduleGroup>
    <ScheduleResources>
        @*<ScheduleResource TItem="CompositeResource" TValue="int" DataSource="@Gates"
                          Field="GateId" Title="Gate" TextField="GateName"
                          IdField="Id" Name="Gates" AllowMultiple="false" ColorField="Color"></ScheduleResource>*@
        <ScheduleResource TItem="CompositeResource" TValue="string[]" DataSource="@Seasons" Field="SeasonsIds" Title="Seasons" Name="Seasons"
                          TextField="SeasonName" IdField="SeasonId" ColorField="Color" AllowMultiple="true"></ScheduleResource>
    </ScheduleResources>
    <ScheduleEvents TValue="DeparturePlanGuiModel" OnPopupOpen="@(async arg => await OnPopupOpen(arg))" />
    <ScheduleEventSettings TValue="DeparturePlanGuiModel" AllowEditFollowingEvents="true">
        <ScheduleViews>
            <ScheduleView Option="View.Day"></ScheduleView>
            <ScheduleView Option="View.Week"></ScheduleView>
            <ScheduleView Option="View.Month"></ScheduleView>
        </ScheduleViews>
        <SfDataManager Adaptor="Adaptors.CustomAdaptor">
            <CascadingValue Value="SchedulerRef" Name="SchedulerRef" IsFixed="true">
                <DataAdaptor />
            </CascadingValue>
        </SfDataManager>
    </ScheduleEventSettings>
</SfSchedule>